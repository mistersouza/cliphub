"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[129],{390:(e,l,s)=>{s.d(l,{A:()=>i});var t=s(720),a=s(804),r=s(579);const i=e=>{let{message:l,noClips:s,noComments:i}=e;return(0,r.jsxs)("div",{className:" flex flex-col justify-center items-center text-gray-800 gap-1  w-full h-full ",children:[s&&(0,r.jsx)(t.DBO,{className:"text-8xl"}),i&&(0,r.jsx)(a.r4w,{className:"text-7xl"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:l})]})}},129:(e,l,s)=>{s.r(l),s.d(l,{default:()=>v});var t=s(43),a=s(390),r=s(475),i=s(538),o=s(462),n=s(833),c=s(540),d=s(579);const x=e=>{let{clip:l}=e;const[s,a]=(0,t.useState)(!1),[x,u]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),v=(0,t.useRef)(null),f=()=>{null===v||void 0===v||v.current[x?"pause":"play"](),u((e=>!e))};return(0,t.useEffect)((()=>{null!==v&&void 0!==v&&v.current&&(v.current.muted=p)}),[p]),l?(0,d.jsxs)("div",{className:"flex flex-col pb-6",children:[(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex gap-3 p-2 cursor-pointer font-semibold rounded",children:[(0,d.jsx)(c.A,{src:l.profile_image,id:l.profile_id}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"capitalize flex gap-2 items-center  md:text-md font-bold text-primary",children:[l.owner," ",(0,d.jsx)(n.Psn,{className:"text-gray-800 text-md"})]}),(0,d.jsxs)("p",{className:"font-medium text-xs text-gray-500 hidden md:block",children:["@",l.owner]})]})})]})}),(0,d.jsx)("div",{className:"flex gap-4 relative lg:ml-20",children:(0,d.jsxs)("div",{className:"rounded-3xl",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[(0,d.jsx)(r.N_,{to:`/clips/${null===l||void 0===l?void 0:l.id}`,"aria-label":`Join the conversation and show love for ${null===l||void 0===l?void 0:l.id}`,title:l.id,children:(0,d.jsxs)("video",{ref:v,className:"lg:w-[600px] h-[300px] md:h-[400px] lg:h-[528px] w-[200px] rounded-2xl cursor-pointer bg-gray-100","aria-labelledby":`clip-${null===l||void 0===l?void 0:l.id}-title`,preload:"auto",children:[(0,d.jsx)("source",{src:l.clip,type:"video/mp4"}),(0,d.jsx)("track",{kind:"captions",srcLang:"en",src:`data:text/vtt;charset=utf-8,${null===l||void 0===l?void 0:l.caption}`,label:"English"}),"Your browser does not support video tags :/"]})}),s&&(0,d.jsxs)("div",{className:"absolute bottom-6 cursor-pointer left-8 md:left-14 lg:left-0 flex gap-10 lg:justify-between w-[100px] md:w-[50px] lg:w-[600px] p-3",children:[x?(0,d.jsx)("button",{onClick:f,"aria-label":"Pause video",children:(0,d.jsx)(o.Amb,{className:"text-2xl text-gray-800 lg:text-4xl"})}):(0,d.jsx)("button",{onClick:f,"aria-label":"Play video",children:(0,d.jsx)(o.i8P,{className:"text-2xl text-gray-800 lg:text-4xl"})}),p?(0,d.jsx)("button",{onClick:()=>m((e=>!e)),"aria-label":"Unmute video",children:(0,d.jsx)(i.Zq1,{className:"text-gray-800 text-2xl lg:text-4xl"})}):(0,d.jsx)("button",{onClick:()=>m((e=>!e)),"aria-label":"Mute video",children:(0,d.jsx)(i.lST,{className:"text-gray-800 text-2xl lg:text-4xl"})})]})]})})]}):null};var u=s(580),p=s(55),m=s(400);const v=e=>{var l;let{filter:s=""}=e;const{clips:r,setClips:i,query:o}=(0,t.useContext)(u.B),n=(0,m.d7)(o,500),c=(0,t.useMemo)((()=>{let e=`clips/?${s}`;return n&&(e+=`search=${o}`),e}),[s,n]),v=(0,t.useMemo)((()=>{var e;return null===(e=r.results)||void 0===e?void 0:e.map((e=>(0,d.jsx)(x,{clip:e},e.id)))}),[r.results]);return(0,t.useEffect)((()=>{(async()=>{try{const{data:e}=await p.G.get(c);i(e)}catch(e){console.error("Error fetching clips",e)}})()}),[s,o]),(0,d.jsx)("div",{className:"flex flex-col gap-10 h-full w-full overflow-auto scrollbar-hide",children:null!==(l=r.results)&&void 0!==l&&l.length?v:(0,d.jsx)(a.A,{message:"No videos just yet :/",noClips:!0})})}}}]);
//# sourceMappingURL=129.32510723.chunk.js.map