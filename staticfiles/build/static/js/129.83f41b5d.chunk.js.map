{"version":3,"file":"static/js/129.83f41b5d.chunk.js","mappings":"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","sources":["components/NoResults.js","components/clips/ClipCard.js","components/clips/Feed.js"],"sourcesContent":["// Icons imports\nimport { MdOutlineVideocamOff } from 'react-icons/md';\nimport { BiCommentX } from 'react-icons/bi';\n\nconst NoResults = ({ message, noClips, noComments }) => {\n  return (\n    <div\n      className=\"\n        flex flex-col justify-center items-center text-gray-800 gap-1 \n        w-full h-full\n      \"\n    >\n      {noClips && <MdOutlineVideocamOff className=\"text-8xl\" />}\n      {noComments && <BiCommentX className=\"text-7xl\" />}\n      <p className=\"text-sm text-gray-500\">{message}</p>\n    </div>\n  );\n};\n\nexport default NoResults;\n","// React imports\nimport { useState, useEffect, useRef } from 'react';\n// Dependencies imports\nimport { Link } from 'react-router-dom';\n// Icons imports\nimport { HiVolumeUp, HiVolumeOff } from 'react-icons/hi';\nimport { BsFillPlayFill, BsFillPauseFill } from 'react-icons/bs';\nimport { GoVerified } from 'react-icons/go';\n// Components imports\nimport Avatar from '../Avatar';\n\nconst ClipCard = ({ clip }) => {\n  const [isHovered, setIsHovered] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const clipRef = useRef(null);\n\n  const handlePlaybackClick = () => {\n    clipRef?.current[isPlaying ? 'pause' : 'play']();\n    setIsPlaying((prev) => !prev);\n  };\n\n  useEffect(() => {\n    if (clipRef?.current) clipRef.current.muted = isMuted;\n  }, [isMuted]);\n\n  if (!clip) return null;\n\n  return (\n    <div className=\"flex flex-col pb-6\">\n      <div>\n        <div className=\"flex gap-3 p-2 cursor-pointer font-semibold rounded\">\n          <Avatar src={clip.profile_image} id={clip.profile_id} />\n          <div>\n            <div>\n              <p\n                className=\"capitalize flex gap-2 items-center \n                  md:text-md font-bold text-primary\"\n              >\n                {clip.owner} <GoVerified className=\"text-gray-800 text-md\" />\n              </p>\n              <p className=\"font-medium text-xs text-gray-500 hidden md:block\">\n                @{clip.owner}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"flex gap-4 relative lg:ml-20\">\n        <div\n          className=\"rounded-3xl\"\n          onMouseEnter={() => setIsHovered(true)}\n          onMouseLeave={() => setIsHovered(false)}\n        >\n          <Link\n            to={`/clips/${clip?.id}`}\n            aria-label={`Join the conversation and show love for ${clip?.id}`}\n            title={clip.id}\n          >\n            <video\n              ref={clipRef}\n              className=\"lg:w-[600px] h-[300px] md:h-[400px] lg:h-[528px]\n                w-[200px] rounded-2xl cursor-pointer bg-gray-100\"\n              aria-labelledby={`clip-${clip?.id}-title`}\n            >\n              <source src={clip.clip} type=\"video/mp4\" />\n              <track\n                kind=\"captions\"\n                srcLang=\"en\"\n                src={`data:text/vtt;charset=utf-8,${clip?.caption}`}\n                label=\"English\"\n              />\n              Your browser does not support video tags :/\n            </video>\n          </Link>\n          {isHovered && (\n            <div\n              className=\"absolute bottom-6 cursor-pointer left-8 md:left-14 lg:left-0\n                flex gap-10 lg:justify-between w-[100px] md:w-[50px] lg:w-[600px] p-3\"\n            >\n              {isPlaying ? (\n                <button onClick={handlePlaybackClick} aria-label=\"Pause video\">\n                  <BsFillPauseFill className=\"text-2xl text-gray-800 lg:text-4xl\" />\n                </button>\n              ) : (\n                <button onClick={handlePlaybackClick} aria-label=\"Play video\">\n                  <BsFillPlayFill className=\"text-2xl text-gray-800 lg:text-4xl\" />\n                </button>\n              )}\n              {isMuted ? (\n                <button\n                  onClick={() => setIsMuted((prev) => !prev)}\n                  aria-label=\"Unmute video\"\n                >\n                  <HiVolumeOff className=\"text-gray-800 text-2xl lg:text-4xl\" />\n                </button>\n              ) : (\n                <button\n                  onClick={() => setIsMuted((prev) => !prev)}\n                  aria-label=\"Mute video\"\n                >\n                  <HiVolumeUp className=\"text-gray-800 text-2xl lg:text-4xl\" />\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ClipCard;\n","// React imports\nimport { useEffect, useContext, useMemo } from 'react';\n// Components imports\nimport NoResults from '../NoResults';\nimport ClipCard from './ClipCard';\n// Helpers imports\nimport { AppContext } from '../../context/AppContext';\nimport { axiosRequest } from '../../api/axiosDefaults';\nimport { useDebounce } from '../../utils/helpers';\n\nconst Feed = ({ filter = '' }) => {\n  const { clips, setClips, query } = useContext(AppContext);\n  // Debouce API Calls\n  const debouncedQuery = useDebounce(query, 500);\n\n  const url = useMemo(() => {\n    let baseUrl = `clips/?${filter}`;\n    if (debouncedQuery) baseUrl += `search=${query}`;\n    return baseUrl;\n  }, [filter, debouncedQuery]);\n\n  const featuredClips = useMemo(\n    () => clips.results?.map((clip) => <ClipCard key={clip.id} clip={clip} />),\n    [clips.results]\n  );\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await axiosRequest.get(url);\n        setClips(data);\n        // console.log('Clips list', data);\n      } catch (error) {\n        console.error('Error fetching clips', error);\n      }\n    })();\n  }, [filter, query]);\n\n  return (\n    <div className=\"flex flex-col gap-10 h-full w-full overflow-auto scrollbar-hide\">\n      {clips.results?.length ? (\n        featuredClips\n      ) : (\n        <NoResults message=\"No videos just yet :/\" noClips />\n      )}\n    </div>\n  );\n};\n\nexport default Feed;\n"],"names":["_ref","message","noClips","noComments","_jsxs","className","children","_jsx","MdOutlineVideocamOff","BiCommentX","clip","isHovered","setIsHovered","useState","isPlaying","setIsPlaying","isMuted","setIsMuted","clipRef","useRef","handlePlaybackClick","current","prev","useEffect","muted","Avatar","src","profile_image","id","profile_id","owner","GoVerified","onMouseEnter","onMouseLeave","Link","to","title","ref","type","kind","srcLang","caption","label","onClick","BsFillPauseFill","BsFillPlayFill","HiVolumeOff","HiVolumeUp","_clips$results2","filter","clips","setClips","query","useContext","AppContext","debouncedQuery","useDebounce","url","useMemo","baseUrl","featuredClips","_clips$results","results","map","ClipCard","data","axiosRequest","get","error","console","length","NoResults"],"sourceRoot":""}