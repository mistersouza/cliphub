{"version":3,"file":"static/js/170.4a3523ec.chunk.js","mappings":"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","sources":["components/NoResults.js","components/dropdowns/SmallDropdownMenu.js","components/clips/ClipDetail.js"],"sourcesContent":["// Icons imports\nimport { MdOutlineVideocamOff } from 'react-icons/md';\nimport { BiCommentX } from 'react-icons/bi';\n\nconst NoResults = ({ message, noClips, noComments }) => {\n  return (\n    <div\n      className=\"\n        flex flex-col justify-center items-center text-gray-800 gap-1 \n        w-full h-full\n      \"\n    >\n      {noClips && <MdOutlineVideocamOff className=\"text-8xl\" />}\n      {noComments && <BiCommentX className=\"text-7xl\" />}\n      <p className=\"text-sm text-gray-500\">{message}</p>\n    </div>\n  );\n};\n\nexport default NoResults;\n","// React imports\nimport { useState, useEffect } from 'react';\n// Helpers imports\nimport { axiosResponse } from '../../api/axiosDefaults';\n\nconst SmallDropdownMenu = ({\n  dropdownMenuRef,\n  isDropdownMenuDisplayed,\n  isOwner,\n  id,\n  handleDelete,\n}) => {\n  const [reasons, setReasons] = useState([]);\n\n  const handleFlagSubmit = async (reason) => {\n    try {\n      await axiosResponse.post(`flag/clip/${id}/`, { reason });\n      // if (status === 201) console.log('Clip flagged', reason);\n    } catch (error) {\n      console.error('Failed flagging clip', error);\n    }\n  };\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await axiosResponse.get('flag/reasons/');\n        setReasons(data.reasons);\n      } catch (error) {\n        console.error('Error fetching reasons', error);\n      }\n    })();\n  }, []);\n\n  return (\n    <div\n      className={`z-10 ${isDropdownMenuDisplayed ? 'absolute right-0 top-9' : 'hidden'} \n        bg-white divide-y divide-gray-100 rounded shadow w-32`}\n      id=\"dropdownDivider\"\n      ref={dropdownMenuRef}\n      aria-label={isOwner ? 'Manage your clip' : 'Select flag reason'}\n    >\n      <ul\n        className=\"py-2 text-sm text-gray-700 capitalize dark:text-gray-200\"\n        aria-labelledby=\"dropdownDividerButton\"\n      >\n        {isOwner ? (\n          <li\n            className=\"\n                flex w-full justify-between items-center px-3 py-2 \n                hover:bg-gray-100 dark:hover:bg-gray-600          \n            \"\n            onClick={handleDelete}\n          >\n            delete\n          </li>\n        ) : (\n          <>\n            {reasons.map((reason) => (\n              <li\n                className=\"\n                  flex w-full justify-between items-center px-3 py-2 \n                  hover:bg-gray-100 dark:hover:bg-gray-600          \n                \"\n                key={reason}\n                onClick={() => {\n                  handleFlagSubmit(reason);\n                }}\n              >\n                {reason}\n              </li>\n            ))}\n          </>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default SmallDropdownMenu;\n","// React imports\nimport { useEffect, useRef, useState, useContext } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\n// Dependencies imports\nimport axios from 'axios';\n// Icons imports\nimport { GoVerified } from 'react-icons/go';\nimport { MdOutlineCancel, MdFavorite } from 'react-icons/md';\nimport { FaCommentDots } from 'react-icons/fa';\nimport { BsFillPauseFill, BsFillPlayFill } from 'react-icons/bs';\nimport { HiVolumeUp, HiVolumeOff } from 'react-icons/hi';\nimport { PiFlagPennantLight, PiDotsThreeVerticalBold } from 'react-icons/pi';\nimport { LuEye } from 'react-icons/lu';\n// Components imports\nimport Avatar from '../Avatar';\nimport SmallDropdownMenu from '../dropdowns/SmallDropdownMenu';\n// import Comments from '../comments/Comments';\nimport NoResults from '../NoResults';\n// Helpers imports\nimport { axiosRequest, axiosResponse } from '../../api/axiosDefaults';\nimport { AppContext } from '../../context/AppContext';\nimport { useClickAway, useDisplay } from '../../utils/helpers';\n\nconst ClipDetail = () => {\n  const { user, setClips } = useContext(AppContext);\n  const [clip, setClip] = useState({});\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isViewed, setIsViewed] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const [content, setContent] = useState('');\n  const [posting, setPosting] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [isDropdownMenuDisplayed, toggleDropdownMenu] = useDisplay();\n  const dropdownMenuRef = useClickAway(() => {\n    if (isDropdownMenuDisplayed) toggleDropdownMenu();\n  });\n  const navigate = useNavigate();\n  const clipRef = useRef(null);\n\n  const [comments, setComments] = useState({ results: [] });\n  const { id } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await axiosRequest.get(`clips/${id}/`);\n        setClip(data);\n        console.log('clip data', data);\n        setIsLiked(Boolean(data.like_id));\n      } catch (error) {\n        console.error(error);\n      }\n    })();\n  }, [id]);\n\n  const {\n    comments_count: commentsCount,\n    profile_id: profileId,\n    profile_image: profileImage,\n    likes_count: likesCount,\n    like_id: likeId,\n    views_count: viewsCount,\n    owner,\n    caption,\n  } = clip;\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await axiosRequest.get(`comments/?clip=${id}`);\n        setComments(data);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setPosting(false);\n      }\n    })();\n  }, [id]);\n\n  const isOwner = user?.username === owner;\n\n  const handleLikeClick = async () => {\n    try {\n      const { data } = await axiosResponse.post('likes/', { clip: id });\n      setClips((prevPosts) => ({\n        ...prevPosts,\n        results: prevPosts.results.map((clip) =>\n          clip.id === id\n            ? { ...clip, likes_count: clip.likes_count + 1, like_id: data.id }\n            : clip\n        ),\n      }));\n      setClip((prevClip) => ({\n        ...prevClip,\n        likes_count: prevClip.likes_count + 1,\n        like_id: data.id,\n      }));\n      setIsLiked(true);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleUnlikeClick = async () => {\n    try {\n      await axiosResponse.delete(`likes/${likeId}/`);\n      setClips((prevPosts) => ({\n        ...prevPosts,\n        results: prevPosts.results.map((clip) =>\n          clip.id === id\n            ? { ...clip, likes_count: clip.likes_count - 1, like_id: null }\n            : clip\n        ),\n      }));\n      setClip((prevClip) => ({\n        ...prevClip,\n        likes_count: prevClip.likes_count - 1,\n      }));\n      setIsLiked(false);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleCommentSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const { data } = await axiosResponse.post('comments/', {\n        content,\n        clip: id,\n      });\n      setPosting(true);\n      setComments((prevComments) => ({\n        ...prevComments,\n        results: [data, ...prevComments.results],\n      }));\n      setClip((prevClip) => ({\n        ...prevClip,\n        comments_count: prevClip.comments_count + 1,\n      }));\n      setContent('');\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setPosting(false);\n    }\n  };\n\n  const handlePlaybackClick = async () => {\n    clipRef?.current[isPlaying ? 'pause' : 'play']();\n    setIsPlaying((prev) => !prev);\n    // Increment views only once per session\n    if (!isPlaying && !isViewed) {\n      try {\n        await axios.post(`clips/${id}/play/`);\n        setClip((prevClip) => ({\n          ...prevClip,\n          views_count: prevClip.views_count + 1,\n        }));\n        setIsViewed(true);\n      } catch (error) {\n        console.error('Error incrementing views', error);\n      }\n    }\n  };\n\n  const handleDeleteClick = async () => {\n    try {\n      const { status } = await axiosRequest.delete(`clips/${id}/`);\n      if (status === 204) navigate(-1);\n    } catch (error) {\n      console.error('Error deleting clip', error);\n    }\n  };\n\n  useEffect(() => {\n    if (clipRef?.current) {\n      clipRef.current.muted = isMuted;\n    }\n  }, [isMuted]);\n\n  if (!clip) {\n    return <NoResults message=\"This clip is no longer available :/\" />;\n  }\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-gray-50 flex flex-col lg:flex-row \n      lg:flex-nowrap\"\n    >\n      <div\n        className=\"relative w-full h-1/2 lg:w-9/12 lg:h-full flex \n        justify-center items-center bg-gray-800 backdrop-blur-sm\"\n      >\n        <div\n          className=\"opacity-90 absolute top-6 left-2 lg:left-6 flex \n          cursor-pointer z-50\"\n        >\n          <MdOutlineCancel\n            className=\"text-gray-500 text-3xl hover:opacity-90\"\n            onClick={() => navigate(-1)}\n          />\n        </div>\n        <div className=\"relative\">\n          <div className=\"h-[60vh] lg:h-[100vh]\">\n            <video\n              ref={clipRef}\n              className=\"h-full cursor-pointer\"\n              onClick={handlePlaybackClick}\n              src={clip.clip}\n              aria-hidden=\"true\"\n              preload={'auto'}\n            />\n          </div>\n          <div className=\"absolute top-[30%] md:top-28 lg:top-36 right-3 cursor-pointer\">\n            {isOwner ? (\n              <PiDotsThreeVerticalBold\n                className=\"text-white font-bold text-2xl md:text-3xl\"\n                aria-label=\"Dropdown menu\"\n                onMouseEnter={toggleDropdownMenu}\n              />\n            ) : (\n              <PiFlagPennantLight\n                className=\"text-white font-bold text-2xl md:text-3xl\"\n                aria-label=\"Flag clip\"\n                onMouseEnter={toggleDropdownMenu}\n              />\n            )}\n            <SmallDropdownMenu\n              dropdownMenuRef={dropdownMenuRef}\n              id={id}\n              isDropdownMenuDisplayed={isDropdownMenuDisplayed}\n              isOwner={isOwner}\n              handleDelete={handleDeleteClick}\n            />\n          </div>\n          {/* Play/Pause button */}\n          <div className=\"absolute top-[45%] left-[40%] cursor-pointer\">\n            <button\n              aria-label={isPlaying ? 'Pause' : 'Play'}\n              onClick={handlePlaybackClick}\n            >\n              {isPlaying ? (\n                <BsFillPauseFill\n                  className=\"text-gray-200 text-6xl lg:text-8xl\"\n                  aria-hidden=\"true\"\n                />\n              ) : (\n                <BsFillPlayFill\n                  className=\"text-gray-200 text-6xl lg:text-8xl\"\n                  aria-hidden=\"true\"\n                />\n              )}\n            </button>\n          </div>\n        </div>\n        {/* Mute/Unmute button */}\n        <div className=\"absolute bottom-5 right-5 cursor-pointer lg:bottom-3 lg:right-5\">\n          <button\n            onClick={() => setIsMuted((prev) => !prev)}\n            aria-label={isMuted ? 'Unmute' : 'Mute'}\n          >\n            {isMuted ? (\n              <HiVolumeOff className=\"text-gray-200 text-2xl lg:text-4xl\" />\n            ) : (\n              <HiVolumeUp className=\"text-gray-200 text-2xl lg:text-4xl\" />\n            )}\n          </button>\n        </div>\n      </div>\n      {/* Details section */}\n      <div className=\"relative flex flex-col h-1/2 w-full lg:w-3/12 lg:h-full\">\n        <div className=\"min-h-fit flex flex-col py-3 gap-2 md:gap-5\">\n          {/* User details */}\n          <div className=\"flex items-center gap-3 px-3\">\n            <Avatar id={profileId} src={profileImage} />\n            <div className=\"flex flex-col\">\n              <p className=\"flex items-center gap-1.5\">\n                <span className=\"text-sm text-gray-800 capitalize font-semibold\">\n                  {owner}\n                </span>\n                <GoVerified />\n              </p>\n              <p className=\"text-sm text-gray-500\">{owner}_user</p>\n            </div>\n          </div>\n          {/* Clip details */}\n          <p className=\"text-sm text-gray-700 md:text-lg px-3.5\">{caption}</p>\n          {/* Likes, comments, views */}\n          <div\n            className=\"flex gap-5 items-center justify-center text-gray-700 \n            text-sm py-1 md:py-3 md:mt-auto md:text-lg\"\n          >\n            <div className=\"flex flex-col gap-1 items-center\">\n              <button\n                className=\"bg-gray-200 rounded-full p-1 md:p-2\"\n                aria-label={isLiked ? 'Unlike this clip' : 'Like this clip'}\n                onClick={isLiked ? handleUnlikeClick : handleLikeClick}\n                disabled={isOwner}\n              >\n                <MdFavorite className={isLiked ? '' : 'text-gray-400'} />\n              </button>\n              <p className=\"text-xs\">{likesCount || 0}</p>\n            </div>\n            <div className=\"flex flex-col gap-1 items-center\">\n              <div\n                className={`bg-gray-200 rounded-full p-1 md:p-2 ${\n                  !commentsCount ? 'text-gray-400' : ''\n                }`}\n                role=\"img\"\n                aria-hidden=\"true\"\n              >\n                <FaCommentDots />\n              </div>\n              <p className=\"text-xs\">\n                <span className=\"sr-only\">Comments count: </span>\n                {commentsCount || 0}\n              </p>\n            </div>\n\n            <div className=\"flex flex-col gap-1 items-center\">\n              <div\n                className={`bg-gray-200 rounded-full p-1 md:p-2 ${\n                  !viewsCount ? 'text-gray-400' : ''\n                }`}\n                role=\"img\"\n                aria-hidden=\"true\"\n              >\n                <LuEye />\n              </div>\n              <p className=\"text-xs\">\n                <span className=\"sr-only\">Views count: </span>\n                {viewsCount || 0}\n              </p>\n            </div>\n          </div>\n        </div>\n        <div\n          className=\"flex-1 overflow-y-auto flex flex-col border-t-2 \n            border-gray-200 bg-gray-100 lg:pb-0 pb-[100px]\"\n        >\n          {comments.results.length ? (\n            comments.results.map((comment) => (\n              <div\n                className=\"flex items-center gap-1.5 px-3 py-1.5\"\n                key={comment.id}\n              >\n                <Avatar src={comment.profile_image} id={comment.profile_id} />\n                <p className=\"text-sm font-light md:text-base lg:text-lg text-gray-800\">\n                  {comment.content}\n                </p>\n              </div>\n            ))\n          ) : (\n            <NoResults\n              message={`${\n                !user\n                  ? 'Log in and be the first to leave a comment'\n                  : 'Be the first to leave a comment'\n              }`}\n              noComments\n            />\n          )}\n        </div>\n        <div className=\"w-full max-h-15 self-end\">\n          <div className=\"w-full p-3 border-t-2 border-gray-200\">\n            <form className=\"flex gap-2.5\" onSubmit={handleCommentSubmit}>\n              <input\n                className=\"w-full bg-gray-100 rounded-md p-2 focus:ring-0 focus:outline-none\"\n                value={content}\n                onChange={({ target }) => setContent(target.value)}\n                placeholder={`${!user ? 'Log in to' : 'Add'} comment...`}\n              />\n              {user && (\n                <button\n                  className={`bg-gray-100 text-gray-${!content.trim() ? '200' : '700'} rounded-lg p-2`}\n                  disabled={!content.trim()}\n                  type=\"submit\"\n                >\n                  {posting ? (\n                    <div className=\"flex space-x-0.5 justify-center\">\n                      <span className=\"sr-only\">Posting...</span>\n                      <div\n                        className=\"w-2.5 h-2.5 bg-gray-500 rounded-full \n                        animate-bounce [animation-delay:-0.3s]\"\n                      ></div>\n                      <div\n                        className=\"w-2.5 h-2.5 bg-gray-500 rounded-full \n                        animate-bounce [animation-delay:-0.15s]\"\n                      ></div>\n                      <div\n                        className=\"w-2.5 h-2.5 bg-gray-500 rounded-full \n                        animate-bounce\"\n                      ></div>\n                    </div>\n                  ) : (\n                    <p>Post</p>\n                  )}\n                </button>\n              )}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ClipDetail;\n"],"names":["_ref","message","noClips","noComments","_jsxs","className","children","_jsx","MdOutlineVideocamOff","BiCommentX","dropdownMenuRef","isDropdownMenuDisplayed","isOwner","id","handleDelete","reasons","setReasons","useState","useEffect","data","axiosResponse","get","error","console","ref","onClick","_Fragment","map","reason","async","post","handleFlagSubmit","ClipDetail","user","setClips","useContext","AppContext","clip","setClip","isPlaying","setIsPlaying","isViewed","setIsViewed","isMuted","setIsMuted","content","setContent","posting","setPosting","isLiked","setIsLiked","toggleDropdownMenu","useDisplay","useClickAway","navigate","useNavigate","clipRef","useRef","comments","setComments","results","useParams","axiosRequest","log","Boolean","like_id","comments_count","commentsCount","profile_id","profileId","profile_image","profileImage","likes_count","likesCount","likeId","views_count","viewsCount","owner","caption","username","handlePlaybackClick","current","prev","axios","prevClip","muted","MdOutlineCancel","src","preload","PiDotsThreeVerticalBold","onMouseEnter","PiFlagPennantLight","SmallDropdownMenu","status","delete","BsFillPauseFill","BsFillPlayFill","HiVolumeOff","HiVolumeUp","Avatar","GoVerified","prevPosts","disabled","MdFavorite","role","FaCommentDots","LuEye","length","comment","NoResults","onSubmit","event","preventDefault","prevComments","value","onChange","target","placeholder","trim","type"],"sourceRoot":""}